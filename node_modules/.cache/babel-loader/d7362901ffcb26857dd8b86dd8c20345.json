{"ast":null,"code":"import _classCallCheck from \"/home/sufal/Downloads/rtf-editor/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sufal/Downloads/rtf-editor/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/sufal/Downloads/rtf-editor/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/sufal/Downloads/rtf-editor/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/sufal/Downloads/rtf-editor/src/index.js\",\n  _this3 = this;\nimport ReactDOM from \"react-dom\";\nimport React, { Component } from \"react\";\nimport { EditorState, convertToRaw, convertFromRaw, AtomicBlockUtils } from \"draft-js\";\nimport Editor, { composeDecorators } from \"draft-js-plugins-editor\";\nimport createMentionPlugin, { defaultSuggestionsFilter } from \"draft-js-mention-plugin\";\nimport \"./editor-styles.css\";\nimport \"draft-js-mention-plugin/lib/plugin.css\";\nimport \"draft-js-static-toolbar-plugin/lib/plugin.css\";\nimport \"draft-js-image-plugin/lib/plugin.css\";\nimport \"draft-js-alignment-plugin/lib/plugin.css\";\nimport \"draft-js-focus-plugin/lib/plugin.css\";\nimport createToolbarPlugin, { Separator } from \"draft-js-static-toolbar-plugin\";\nimport { draftToMarkdown } from \"markdown-draft-js\";\nimport createImagePlugin from \"draft-js-image-plugin\";\nimport createAlignmentPlugin from \"draft-js-alignment-plugin\";\nimport createFocusPlugin from \"draft-js-focus-plugin\";\nimport createResizeablePlugin from \"draft-js-resizeable-plugin\";\nimport createBlockDndPlugin from \"draft-js-drag-n-drop-plugin\";\nimport createDragNDropUploadPlugin, { readFile } from \"@mikeljames/draft-js-drag-n-drop-upload-plugin\";\nimport createVideoPlugin from \"draft-js-video-plugin\"; // Import the video plugin\nimport { ItalicButton, BoldButton, UnderlineButton, CodeButton, HeadlineOneButton, HeadlineTwoButton, HeadlineThreeButton, UnorderedListButton, OrderedListButton, BlockquoteButton } from \"draft-js-buttons\";\nvar mentions = [{\n  name: \"TEST GLOS\"\n}];\nvar initialState = {\n  entityMap: {\n    0: {\n      type: \"IMAGE\",\n      mutability: \"IMMUTABLE\",\n      data: {\n        src: \"https://dummyimage.com/600x400/000/fff\"\n      }\n    }\n  },\n  blocks: [{\n    key: \"9gm3s\",\n    text: \"Hello...\",\n    type: \"unstyled\",\n    depth: 0,\n    inlineStyleRanges: [],\n    entityRanges: [],\n    data: {}\n  }, {\n    key: \"ov7r\",\n    text: \" \",\n    type: \"atomic\",\n    depth: 0,\n    inlineStyleRanges: [],\n    entityRanges: [{\n      offset: 0,\n      length: 1,\n      key: 0\n    }],\n    data: {}\n  }, {\n    key: \"e23a8\",\n    text: \"Write here\",\n    type: \"unstyled\",\n    depth: 0,\n    inlineStyleRanges: [],\n    entityRanges: [],\n    data: {}\n  }]\n};\nvar focusPlugin = createFocusPlugin();\nvar resizeablePlugin = createResizeablePlugin();\nvar blockDndPlugin = createBlockDndPlugin();\nvar alignmentPlugin = createAlignmentPlugin();\nvar AlignmentTool = alignmentPlugin.AlignmentTool;\nvar decorator = composeDecorators(resizeablePlugin.decorator, alignmentPlugin.decorator, focusPlugin.decorator, blockDndPlugin.decorator);\nfunction mockUpload(data, success, failed, progress) {\n  function doProgress(percent) {\n    progress(percent || 1);\n    if (percent === 100) {\n      // Start reading the file\n      Promise.all(data.files.map(readFile)).then(function (files) {\n        return success(files, {\n          retainSrc: true\n        });\n      });\n    } else {\n      setTimeout(doProgress, 250, (percent || 0) + 10);\n    }\n  }\n  doProgress();\n}\nvar AddVideoPopup = /*#__PURE__*/function (_Component) {\n  _inherits(AddVideoPopup, _Component);\n  var _super = _createSuper(AddVideoPopup);\n  function AddVideoPopup() {\n    var _this;\n    _classCallCheck(this, AddVideoPopup);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      videoUrl: \"\"\n    };\n    _this.handleInputChange = function (event) {\n      _this.setState({\n        videoUrl: event.target.value\n      });\n    };\n    _this.handleInsertVideo = function () {\n      var onInsertVideo = _this.props.onInsertVideo;\n      var videoUrl = _this.state.videoUrl;\n      onInsertVideo(videoUrl);\n      _this.setState({\n        videoUrl: \"\"\n      });\n    };\n    return _this;\n  }\n  _createClass(AddVideoPopup, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        isOpen = _this$props.isOpen,\n        onClose = _this$props.onClose;\n      var videoUrl = this.state.videoUrl;\n      if (!isOpen) {\n        return null;\n      }\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"video-popup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"video-popup-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"video-popup-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"video-popup-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        value: videoUrl,\n        onChange: this.handleInputChange,\n        placeholder: \"Enter video URL\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"video-popup-footer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"video-popup-insert\",\n        onClick: this.handleInsertVideo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }\n      }, \"Insert\")), videoUrl && /*#__PURE__*/React.createElement(\"video\", {\n        src: videoUrl,\n        controls: true,\n        style: {\n          width: '100%',\n          marginTop: '10px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 24\n        }\n      })));\n    }\n  }]);\n  return AddVideoPopup;\n}(Component);\nvar AddImagePopup = /*#__PURE__*/function (_Component2) {\n  _inherits(AddImagePopup, _Component2);\n  var _super2 = _createSuper(AddImagePopup);\n  function AddImagePopup() {\n    var _this2;\n    _classCallCheck(this, AddImagePopup);\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    _this2 = _super2.call.apply(_super2, [this].concat(args));\n    _this2.state = {\n      imageUrl: \"\"\n    };\n    _this2.handleInputChange = function (event) {\n      _this2.setState({\n        imageUrl: event.target.value\n      });\n    };\n    _this2.handleInsertImage = function () {\n      var onInsertImage = _this2.props.onInsertImage;\n      var imageUrl = _this2.state.imageUrl;\n      onInsertImage(imageUrl);\n      _this2.setState({\n        imageUrl: \"\"\n      });\n    };\n    return _this2;\n  }\n  _createClass(AddImagePopup, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n        isOpen = _this$props2.isOpen,\n        onClose = _this$props2.onClose;\n      var imageUrl = this.state.imageUrl;\n      if (!isOpen) {\n        return null;\n      }\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"image-popup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"image-popup-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"image-popup-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"image-popup-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }\n      }, \"Insert Image\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"image-popup-close\",\n        onClick: onClose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }\n      }, \"\\xD7\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"image-popup-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        value: imageUrl,\n        onChange: this.handleInputChange,\n        placeholder: \"Enter image URL\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"image-popup-footer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"image-popup-insert\",\n        onClick: this.handleInsertImage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }\n      }, \"Insert\"))));\n    }\n  }]);\n  return AddImagePopup;\n}(Component);\nvar blockRendererFn = function blockRendererFn(contentBlock) {\n  var type = contentBlock.getType();\n  if (type === 'atomic') {\n    var contentState = EditorState.createWithContent(convertFromRaw(initialState)).getCurrentContent();\n    var entityKey = contentBlock.getEntityAt(0);\n    if (entityKey) {\n      var entity = contentState.getEntity(entityKey);\n      if (entity && entity.getType() === 'video') {\n        var _entity$getData = entity.getData(),\n          src = _entity$getData.src;\n        return {\n          component: VideoBlock,\n          editable: false,\n          props: {\n            src: src\n          }\n        };\n      }\n    }\n  }\n  return null;\n};\nvar VideoBlock = function VideoBlock(props) {\n  var src = props.src;\n  return /*#__PURE__*/React.createElement(\"video\", {\n    src: src,\n    controls: true,\n    style: {\n      width: '100%'\n    },\n    __self: _this3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 10\n    }\n  });\n};\nvar SimpleMentionEditor = /*#__PURE__*/function (_Component3) {\n  _inherits(SimpleMentionEditor, _Component3);\n  var _super3 = _createSuper(SimpleMentionEditor);\n  function SimpleMentionEditor(props) {\n    var _this4;\n    _classCallCheck(this, SimpleMentionEditor);\n    _this4 = _super3.call(this, props);\n    _this4.state = {\n      editorState: EditorState.createWithContent(convertFromRaw(initialState)),\n      suggestions: mentions,\n      isImagePopupOpen: false,\n      isVideoPopupOpen: false // Track if the video popup is open\n    };\n    _this4.onChange = function (editorState) {\n      _this4.setState({\n        editorState: editorState\n      });\n    };\n    _this4.onSearchChange = function (_ref) {\n      var value = _ref.value;\n      _this4.setState({\n        suggestions: defaultSuggestionsFilter(value, mentions)\n      });\n    };\n    _this4.onAddMention = function () {\n      // get the mention object selected\n    };\n    _this4.focus = function () {\n      _this4.editor.focus();\n    };\n    _this4.handleInsertImage = function (imageUrl) {\n      var editorState = _this4.state.editorState;\n      var contentState = editorState.getCurrentContent();\n      var contentStateWithEntity = contentState.createEntity(\"IMAGE\", \"IMMUTABLE\", {\n        src: imageUrl\n      });\n      var entityKey = contentStateWithEntity.getLastCreatedEntityKey();\n\n      // Use EditorState.push to efficiently update the content state\n      var newEditorState = EditorState.push(editorState, contentStateWithEntity, \"create-entity\");\n      _this4.setState({\n        editorState: AtomicBlockUtils.insertAtomicBlock(newEditorState, entityKey, \" \"),\n        isImagePopupOpen: false\n      });\n    };\n    _this4.toggleImagePopup = function () {\n      _this4.setState(function (prevState) {\n        return {\n          isImagePopupOpen: !prevState.isImagePopupOpen\n        };\n      });\n    };\n    _this4.handleInsertVideo = function (videoUrl) {\n      var editorState = _this4.state.editorState;\n      var contentState = editorState.getCurrentContent();\n      var contentStateWithEntity = contentState.createEntity(\"video\", \"IMMUTABLE\", {\n        src: videoUrl\n      });\n      var entityKey = contentStateWithEntity.getLastCreatedEntityKey();\n      var newEditorState = EditorState.set(editorState, {\n        currentContent: contentStateWithEntity\n      });\n      _this4.setState({\n        editorState: AtomicBlockUtils.insertAtomicBlock(newEditorState, entityKey, \" \"),\n        isVideoPopupOpen: false\n      });\n    };\n    _this4.toggleVideoPopup = function () {\n      _this4.setState(function (prevState) {\n        return {\n          isVideoPopupOpen: !prevState.isVideoPopupOpen\n        };\n      });\n    };\n    _this4.renderMarkdown = function () {\n      var contentState = _this4.state.editorState.getCurrentContent();\n      var foo = convertToRaw(contentState);\n      return draftToMarkdown(foo, {\n        entityItems: {\n          \"\\\\mention\": {\n            open: function open(entity) {\n              return \"<Glossary name=\\\"\".concat(entity.data.mention.name, \"\\\" >\");\n            },\n            close: function close(entity) {\n              return \"</Glossary>\";\n            }\n          }\n        }\n      });\n    };\n    _this4.toolbarPlugin = createToolbarPlugin();\n    _this4.imagePlugin = createImagePlugin({\n      decorator: decorator\n    });\n    _this4.dragNDropFileUploadPlugin = createDragNDropUploadPlugin({\n      handleUpload: mockUpload,\n      addImage: _this4.imagePlugin.addImage\n    });\n    _this4.mentionPlugin = createMentionPlugin({\n      mentionTrigger: \"\\\\\",\n      entityMutability: \"MUTABLE\"\n    });\n\n    // Create the video plugin instance\n    _this4.videoPlugin = createVideoPlugin({\n      entityType: 'video'\n    });\n    _this4.blockRenderMap = DefaultDraftBlockRenderMap.merge(Map({\n      atomic: {\n        element: 'figure'\n      }\n    }));\n    _this4.plugins = [_this4.mentionPlugin, _this4.toolbarPlugin, _this4.dragNDropFileUploadPlugin, blockDndPlugin, focusPlugin, alignmentPlugin, resizeablePlugin, _this4.imagePlugin, _this4.videoPlugin];\n    return _this4;\n  }\n  _createClass(SimpleMentionEditor, [{\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n      var MentionSuggestions = this.mentionPlugin.MentionSuggestions;\n      var Toolbar = this.toolbarPlugin.Toolbar;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"editor-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"toolbar\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Toolbar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }\n      }, function (externalProps) {\n        return /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"toolbar-row\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(HeadlineOneButton, Object.assign({}, externalProps, {\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 19\n          }\n        })), /*#__PURE__*/React.createElement(HeadlineTwoButton, Object.assign({}, externalProps, {\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 19\n          }\n        })), /*#__PURE__*/React.createElement(HeadlineThreeButton, Object.assign({}, externalProps, {\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 19\n          }\n        }))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"toolbar-row\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(BoldButton, Object.assign({}, externalProps, {\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 19\n          }\n        })), /*#__PURE__*/React.createElement(ItalicButton, Object.assign({}, externalProps, {\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 19\n          }\n        })), /*#__PURE__*/React.createElement(UnderlineButton, Object.assign({}, externalProps, {\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 19\n          }\n        })), /*#__PURE__*/React.createElement(CodeButton, Object.assign({}, externalProps, {\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 19\n          }\n        }))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"toolbar-row\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(UnorderedListButton, Object.assign({}, externalProps, {\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 19\n          }\n        })), /*#__PURE__*/React.createElement(OrderedListButton, Object.assign({}, externalProps, {\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 19\n          }\n        })), /*#__PURE__*/React.createElement(BlockquoteButton, Object.assign({}, externalProps, {\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 19\n          }\n        }))));\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"editor\",\n        onClick: this.focus,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Editor, {\n        editorState: this.state.editorState,\n        onChange: this.onChange,\n        plugins: this.plugins,\n        ref: function ref(element) {\n          _this5.editor = element;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(MentionSuggestions, {\n        onSearchChange: this.onSearchChange,\n        suggestions: this.state.suggestions,\n        onAddMention: this.onAddMention,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"add-image-icon\",\n        onClick: this.toggleImagePopup,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 11\n        }\n      }, \"+\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"add-video-icon\",\n        onClick: this.toggleVideoPopup,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 11\n        }\n      }, \"V\"), /*#__PURE__*/React.createElement(AlignmentTool, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(AddImagePopup, {\n        isOpen: this.state.isImagePopupOpen,\n        onClose: this.toggleImagePopup,\n        onInsertImage: this.handleInsertImage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(AddVideoPopup, {\n        isOpen: this.state.isVideoPopupOpen,\n        onClose: this.toggleVideoPopup,\n        onInsertVideo: this.handleInsertVideo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n  return SimpleMentionEditor;\n}(Component);\nexport { SimpleMentionEditor as default };\nReactDOM.render( /*#__PURE__*/React.createElement(SimpleMentionEditor, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 462,\n    columnNumber: 17\n  }\n}), document.getElementById(\"root\"));","map":{"version":3,"names":["ReactDOM","React","Component","EditorState","convertToRaw","convertFromRaw","AtomicBlockUtils","Editor","composeDecorators","createMentionPlugin","defaultSuggestionsFilter","createToolbarPlugin","Separator","draftToMarkdown","createImagePlugin","createAlignmentPlugin","createFocusPlugin","createResizeablePlugin","createBlockDndPlugin","createDragNDropUploadPlugin","readFile","createVideoPlugin","ItalicButton","BoldButton","UnderlineButton","CodeButton","HeadlineOneButton","HeadlineTwoButton","HeadlineThreeButton","UnorderedListButton","OrderedListButton","BlockquoteButton","mentions","name","initialState","entityMap","type","mutability","data","src","blocks","key","text","depth","inlineStyleRanges","entityRanges","offset","length","focusPlugin","resizeablePlugin","blockDndPlugin","alignmentPlugin","AlignmentTool","decorator","mockUpload","success","failed","progress","doProgress","percent","Promise","all","files","map","then","retainSrc","setTimeout","AddVideoPopup","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","args","Array","_key","call","apply","concat","state","videoUrl","handleInputChange","event","setState","target","value","handleInsertVideo","onInsertVideo","props","_createClass","render","_this$props","isOpen","onClose","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onChange","placeholder","onClick","controls","style","width","marginTop","AddImagePopup","_Component2","_super2","_this2","_len2","_key2","imageUrl","handleInsertImage","onInsertImage","_this$props2","blockRendererFn","contentBlock","getType","contentState","createWithContent","getCurrentContent","entityKey","getEntityAt","entity","getEntity","_entity$getData","getData","component","VideoBlock","editable","_this3","SimpleMentionEditor","_Component3","_super3","_this4","editorState","suggestions","isImagePopupOpen","isVideoPopupOpen","onSearchChange","_ref","onAddMention","focus","editor","contentStateWithEntity","createEntity","getLastCreatedEntityKey","newEditorState","push","insertAtomicBlock","toggleImagePopup","prevState","set","currentContent","toggleVideoPopup","renderMarkdown","foo","entityItems","open","mention","close","toolbarPlugin","imagePlugin","dragNDropFileUploadPlugin","handleUpload","addImage","mentionPlugin","mentionTrigger","entityMutability","videoPlugin","entityType","blockRenderMap","DefaultDraftBlockRenderMap","merge","Map","atomic","element","plugins","_this5","MentionSuggestions","Toolbar","externalProps","Fragment","Object","assign","ref","default","document","getElementById"],"sources":["/home/sufal/Downloads/rtf-editor/src/index.js"],"sourcesContent":["import ReactDOM from \"react-dom\";\nimport React, { Component } from \"react\";\nimport { EditorState, convertToRaw, convertFromRaw, AtomicBlockUtils } from \"draft-js\";\nimport Editor, { composeDecorators } from \"draft-js-plugins-editor\";\nimport createMentionPlugin, {\n  defaultSuggestionsFilter,\n} from \"draft-js-mention-plugin\";\nimport \"./editor-styles.css\";\nimport \"draft-js-mention-plugin/lib/plugin.css\";\nimport \"draft-js-static-toolbar-plugin/lib/plugin.css\";\nimport \"draft-js-image-plugin/lib/plugin.css\";\nimport \"draft-js-alignment-plugin/lib/plugin.css\";\nimport \"draft-js-focus-plugin/lib/plugin.css\";\nimport createToolbarPlugin, { Separator } from \"draft-js-static-toolbar-plugin\";\nimport { draftToMarkdown } from \"markdown-draft-js\";\nimport createImagePlugin from \"draft-js-image-plugin\";\nimport createAlignmentPlugin from \"draft-js-alignment-plugin\";\nimport createFocusPlugin from \"draft-js-focus-plugin\";\nimport createResizeablePlugin from \"draft-js-resizeable-plugin\";\nimport createBlockDndPlugin from \"draft-js-drag-n-drop-plugin\";\nimport createDragNDropUploadPlugin, { readFile } from \"@mikeljames/draft-js-drag-n-drop-upload-plugin\";\nimport createVideoPlugin from \"draft-js-video-plugin\"; // Import the video plugin\nimport {\n  ItalicButton,\n  BoldButton,\n  UnderlineButton,\n  CodeButton,\n  HeadlineOneButton,\n  HeadlineTwoButton,\n  HeadlineThreeButton,\n  UnorderedListButton,\n  OrderedListButton,\n  BlockquoteButton,\n} from \"draft-js-buttons\";\n\nconst mentions = [\n  {\n    name: \"TEST GLOS\",\n  },\n];\n\nconst initialState = {\n  entityMap: {\n    0: {\n      type: \"IMAGE\",\n      mutability: \"IMMUTABLE\",\n      data: {\n        src: \"https://dummyimage.com/600x400/000/fff\",\n      },\n    },\n  },\n  blocks: [\n    {\n      key: \"9gm3s\",\n      text: \"Hello...\",\n      type: \"unstyled\",\n      depth: 0,\n      inlineStyleRanges: [],\n      entityRanges: [],\n      data: {},\n    },\n    {\n      key: \"ov7r\",\n      text: \" \",\n      type: \"atomic\",\n      depth: 0,\n      inlineStyleRanges: [],\n      entityRanges: [\n        {\n          offset: 0,\n          length: 1,\n          key: 0,\n        },\n      ],\n      data: {},\n    },\n    {\n      key: \"e23a8\",\n      text: \"Write here\",\n      type: \"unstyled\",\n      depth: 0,\n      inlineStyleRanges: [],\n      entityRanges: [],\n      data: {},\n    },\n  ],\n};\n\nconst focusPlugin = createFocusPlugin();\nconst resizeablePlugin = createResizeablePlugin();\nconst blockDndPlugin = createBlockDndPlugin();\nconst alignmentPlugin = createAlignmentPlugin();\nconst { AlignmentTool } = alignmentPlugin;\n\nconst decorator = composeDecorators(\n  resizeablePlugin.decorator,\n  alignmentPlugin.decorator,\n  focusPlugin.decorator,\n  blockDndPlugin.decorator\n);\n\nfunction mockUpload(data, success, failed, progress) {\n  function doProgress(percent) {\n    progress(percent || 1);\n    if (percent === 100) {\n      // Start reading the file\n      Promise.all(data.files.map(readFile)).then((files) =>\n        success(files, { retainSrc: true })\n      );\n    } else {\n      setTimeout(doProgress, 250, (percent || 0) + 10);\n    }\n  }\n\n  doProgress();\n}\n\nclass AddVideoPopup extends Component {\n  state = {\n    videoUrl: \"\",\n  };\n\n  handleInputChange = (event) => {\n    this.setState({\n      videoUrl: event.target.value,\n    });\n  };\n\n  handleInsertVideo = () => {\n    const { onInsertVideo } = this.props;\n    const { videoUrl } = this.state;\n    onInsertVideo(videoUrl);\n    this.setState({\n      videoUrl: \"\",\n    });\n  };\n\n  render() {\n    const { isOpen, onClose } = this.props;\n    const { videoUrl } = this.state;\n\n    if (!isOpen) {\n      return null;\n    }\n\n    return (\n      <div className=\"video-popup\">\n        <div className=\"video-popup-content\">\n          <div className=\"video-popup-header\">\n            {/* ... existing code */}\n          </div>\n          <div className=\"video-popup-body\">\n            <input\n              type=\"text\"\n              value={videoUrl}\n              onChange={this.handleInputChange}\n              placeholder=\"Enter video URL\"\n            />\n          </div>\n          <div className=\"video-popup-footer\">\n            <button className=\"video-popup-insert\" onClick={this.handleInsertVideo}>\n              Insert\n            </button>\n          </div>\n          {/* Add a video preview */}\n          {videoUrl && <video src={videoUrl} controls style={{ width: '100%', marginTop: '10px' }} />}\n        </div>\n      </div>\n    );\n  }\n}\n\nclass AddImagePopup extends Component {\n  state = {\n    imageUrl: \"\",\n  };\n\n  handleInputChange = (event) => {\n    this.setState({\n      imageUrl: event.target.value,\n    });\n  };\n\n  handleInsertImage = () => {\n    const { onInsertImage } = this.props;\n    const { imageUrl } = this.state;\n    onInsertImage(imageUrl);\n    this.setState({\n      imageUrl: \"\",\n    });\n  };\n\n  \n  render() {\n    const { isOpen, onClose } = this.props;\n    const { imageUrl } = this.state;\n\n    if (!isOpen) {\n      return null;\n    }\n\n    return (\n      <div className=\"image-popup\">\n        <div className=\"image-popup-content\">\n          <div className=\"image-popup-header\">\n            <span className=\"image-popup-title\">Insert Image</span>\n            <button className=\"image-popup-close\" onClick={onClose}>\n              &times;\n            </button>\n          </div>\n          <div className=\"image-popup-body\">\n            <input\n              type=\"text\"\n              value={imageUrl}\n              onChange={this.handleInputChange}\n              placeholder=\"Enter image URL\"\n            />\n          </div>\n          <div className=\"image-popup-footer\">\n            <button className=\"image-popup-insert\" onClick={this.handleInsertImage}>\n              Insert\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst blockRendererFn = (contentBlock) => {\n  const type = contentBlock.getType();\n  if (type === 'atomic') {\n    const contentState = EditorState.createWithContent(convertFromRaw(initialState)).getCurrentContent();\n    const entityKey = contentBlock.getEntityAt(0);\n    if (entityKey) {\n      const entity = contentState.getEntity(entityKey);\n      if (entity && entity.getType() === 'video') {\n        const { src } = entity.getData();\n        return {\n          component: VideoBlock,\n          editable: false,\n          props: {\n            src,\n          },\n        };\n      }\n    }\n  }\n  return null;\n};\n\nconst VideoBlock = (props) => {\n  const { src } = props;\n  return <video src={src} controls style={{ width: '100%' }} />;\n};\n\n\nexport default class SimpleMentionEditor extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toolbarPlugin = createToolbarPlugin();\n    this.imagePlugin = createImagePlugin({ decorator });\n    this.dragNDropFileUploadPlugin = createDragNDropUploadPlugin({\n      handleUpload: mockUpload,\n      addImage: this.imagePlugin.addImage,\n    });\n    this.mentionPlugin = createMentionPlugin({\n      mentionTrigger: \"\\\\\",\n      entityMutability: \"MUTABLE\",\n    });\n\n    // Create the video plugin instance\n    this.videoPlugin = createVideoPlugin({\n      entityType: 'video',\n    });\n\n    this.blockRenderMap = DefaultDraftBlockRenderMap.merge(Map({\n      atomic: {\n        element: 'figure',\n      },\n    }));\n\n\n    this.plugins = [\n      this.mentionPlugin,\n      this.toolbarPlugin,\n      this.dragNDropFileUploadPlugin,\n      blockDndPlugin,\n      focusPlugin,\n      alignmentPlugin,\n      resizeablePlugin,\n      this.imagePlugin,\n      this.videoPlugin, \n    ];\n  }\n\n  state = {\n    editorState: EditorState.createWithContent(convertFromRaw(initialState)),\n    suggestions: mentions,\n    isImagePopupOpen: false,\n    isVideoPopupOpen: false, // Track if the video popup is open\n  };\n\n  onChange = (editorState) => {\n    this.setState({\n      editorState,\n    });\n  };\n\n  onSearchChange = ({ value }) => {\n    this.setState({\n      suggestions: defaultSuggestionsFilter(value, mentions),\n    });\n  };\n\n  onAddMention = () => {\n    // get the mention object selected\n  };\n\n  focus = () => {\n    this.editor.focus();\n  };\n\n  handleInsertImage = (imageUrl) => {\n    const { editorState } = this.state;\n    const contentState = editorState.getCurrentContent();\n    const contentStateWithEntity = contentState.createEntity(\"IMAGE\", \"IMMUTABLE\", { src: imageUrl });\n    const entityKey = contentStateWithEntity.getLastCreatedEntityKey();\n\n    // Use EditorState.push to efficiently update the content state\n    const newEditorState = EditorState.push(\n      editorState,\n      contentStateWithEntity,\n      \"create-entity\"\n    );\n\n    this.setState({\n      editorState: AtomicBlockUtils.insertAtomicBlock(newEditorState, entityKey, \" \"),\n      isImagePopupOpen: false,\n    });\n  };\n\n  toggleImagePopup = () => {\n    this.setState((prevState) => ({\n      isImagePopupOpen: !prevState.isImagePopupOpen,\n    }));\n  };\n  handleInsertVideo = (videoUrl) => {\n    const { editorState } = this.state;\n    const contentState = editorState.getCurrentContent();\n    const contentStateWithEntity = contentState.createEntity(\"video\", \"IMMUTABLE\", {\n      src: videoUrl,\n    });\n    const entityKey = contentStateWithEntity.getLastCreatedEntityKey();\n    const newEditorState = EditorState.set(editorState, {\n      currentContent: contentStateWithEntity,\n    });\n  \n    this.setState({\n      editorState: AtomicBlockUtils.insertAtomicBlock(newEditorState, entityKey, \" \"),\n      isVideoPopupOpen: false,\n    });\n  };\n  \n\n  toggleVideoPopup = () => {\n    this.setState((prevState) => ({\n      isVideoPopupOpen: !prevState.isVideoPopupOpen,\n    }));\n  };\n  \n  renderMarkdown = () => {\n    const contentState = this.state.editorState.getCurrentContent();\n    const foo = convertToRaw(contentState);\n    return draftToMarkdown(foo, {\n      entityItems: {\n        \"\\\\mention\": {\n          open: function (entity) {\n            return `<Glossary name=\"${entity.data.mention.name}\" >`;\n          },\n\n          close: function (entity) {\n            return \"</Glossary>\";\n          },\n        },\n      },\n    });\n  };\n\n  \n  render() {\n    const { MentionSuggestions } = this.mentionPlugin;\n    const { Toolbar } = this.toolbarPlugin;\n\n    \n\n    return (\n      <div className=\"editor-container\">\n        <div className=\"toolbar\">\n          <Toolbar>\n            {(externalProps) => (\n              <React.Fragment>\n                <div className=\"toolbar-row\">\n                  <HeadlineOneButton {...externalProps} />\n                  <HeadlineTwoButton {...externalProps} />\n                  <HeadlineThreeButton {...externalProps} />\n                </div>\n                <div className=\"toolbar-row\">\n                  <BoldButton {...externalProps} />\n                  <ItalicButton {...externalProps} />\n                  <UnderlineButton {...externalProps} />\n                  <CodeButton {...externalProps} />\n                </div>\n                <div className=\"toolbar-row\">\n                  <UnorderedListButton {...externalProps} />\n                  <OrderedListButton {...externalProps} />\n                  <BlockquoteButton {...externalProps} />\n                </div>\n              </React.Fragment>\n            )}\n          </Toolbar>\n        </div>\n        <div className=\"editor\" onClick={this.focus}>\n          <Editor\n            editorState={this.state.editorState}\n            onChange={this.onChange}\n            plugins={this.plugins}\n            ref={(element) => {\n              this.editor = element;\n            }}\n          />\n          <MentionSuggestions\n            onSearchChange={this.onSearchChange}\n            suggestions={this.state.suggestions}\n            onAddMention={this.onAddMention}\n          />\n          <div className=\"add-image-icon\" onClick={this.toggleImagePopup}>\n            +\n          </div>\n          <div className=\"add-video-icon\" onClick={this.toggleVideoPopup}>\n            V\n          </div>\n          <AlignmentTool />\n        </div>\n        <hr />\n        <AddImagePopup\n          isOpen={this.state.isImagePopupOpen}\n          onClose={this.toggleImagePopup}\n          onInsertImage={this.handleInsertImage}\n        />\n        <AddVideoPopup\n          isOpen={this.state.isVideoPopupOpen}\n          onClose={this.toggleVideoPopup}\n          onInsertVideo={this.handleInsertVideo}\n        />\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<SimpleMentionEditor />, document.getElementById(\"root\"));\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}