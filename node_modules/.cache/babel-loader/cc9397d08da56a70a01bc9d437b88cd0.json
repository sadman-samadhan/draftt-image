{"ast":null,"code":"import _classCallCheck from \"/home/sufal/Downloads/rtf-editor/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/sufal/Downloads/rtf-editor/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/sufal/Downloads/rtf-editor/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/sufal/Downloads/rtf-editor/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/sufal/Downloads/rtf-editor/src/index.js\",\n  _this = this;\nimport ReactDOM from \"react-dom\";\nimport React, { Component } from \"react\";\nimport { EditorState, EditorBlock, convertToRaw, convertFromRaw, AtomicBlockUtils, ContentBlock, Modifier, genKey } from \"draft-js\";\nimport Editor, { composeDecorators } from \"draft-js-plugins-editor\";\nimport createMentionPlugin, { defaultSuggestionsFilter } from \"draft-js-mention-plugin\";\nimport \"./editor-styles.css\";\nimport \"draft-js-mention-plugin/lib/plugin.css\";\nimport \"draft-js-static-toolbar-plugin/lib/plugin.css\";\nimport \"draft-js-image-plugin/lib/plugin.css\";\nimport \"draft-js-alignment-plugin/lib/plugin.css\";\nimport \"draft-js-focus-plugin/lib/plugin.css\";\nimport createToolbarPlugin, { Separator } from \"draft-js-static-toolbar-plugin\";\nimport { draftToMarkdown } from \"markdown-draft-js\";\nimport createImagePlugin from \"draft-js-image-plugin\";\nimport createAlignmentPlugin from \"draft-js-alignment-plugin\";\nimport createFocusPlugin from \"draft-js-focus-plugin\";\nimport createResizeablePlugin from \"draft-js-resizeable-plugin\";\nimport createBlockDndPlugin from \"draft-js-drag-n-drop-plugin\";\nimport createVideoPlugin from \"draft-js-video-plugin\";\nimport createDragNDropUploadPlugin, { readFile } from \"@mikeljames/draft-js-drag-n-drop-upload-plugin\";\nimport VideoAdd from \"./videoAdd\";\nimport AddImagePopup from \"./imageAdd\";\nimport { ItalicButton, BoldButton, UnderlineButton, CodeButton, HeadlineOneButton, HeadlineTwoButton, HeadlineThreeButton, UnorderedListButton, OrderedListButton, BlockquoteButton } from \"draft-js-buttons\";\nvar mentions = [{\n  name: \"TEST GLOS\"\n}];\nvar initialState = {\n  entityMap: {\n    0: {\n      type: \"IMAGE\",\n      mutability: \"IMMUTABLE\",\n      data: {\n        src: \"https://dummyimage.com/600x400/000/fff\"\n      }\n    }\n  },\n  blocks: [{\n    key: \"9gm3s\",\n    text: \"Hello...\",\n    type: \"unstyled\",\n    depth: 0,\n    inlineStyleRanges: [],\n    entityRanges: [],\n    data: {}\n  }, {\n    key: \"ov7r\",\n    text: \" \",\n    type: \"atomic\",\n    depth: 0,\n    inlineStyleRanges: [],\n    entityRanges: [{\n      offset: 0,\n      length: 1,\n      key: 0\n    }],\n    data: {}\n  }, {\n    key: \"e23a8\",\n    text: \"Write here\",\n    type: \"unstyled\",\n    depth: 0,\n    inlineStyleRanges: [],\n    entityRanges: [],\n    data: {}\n  }]\n};\nvar focusPlugin = createFocusPlugin();\nvar resizeablePlugin = createResizeablePlugin();\nvar blockDndPlugin = createBlockDndPlugin();\nvar alignmentPlugin = createAlignmentPlugin();\nvar AlignmentTool = alignmentPlugin.AlignmentTool;\nvar decorator = composeDecorators(resizeablePlugin.decorator, alignmentPlugin.decorator, focusPlugin.decorator, blockDndPlugin.decorator);\nfunction mockUpload(data, success, failed, progress) {\n  function doProgress(percent) {\n    progress(percent || 1);\n    if (percent === 100) {\n      // Start reading the file\n      Promise.all(data.files.map(readFile)).then(function (files) {\n        return success(files, {\n          retainSrc: true\n        });\n      });\n    } else {\n      setTimeout(doProgress, 250, (percent || 0) + 10);\n    }\n  }\n  doProgress();\n}\nfunction MediaSidebar(_ref) {\n  var isOpen = _ref.isOpen,\n    onClose = _ref.onClose,\n    onImageSelect = _ref.onImageSelect,\n    onVideoSelect = _ref.onVideoSelect,\n    onAddBlock = _ref.onAddBlock;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"media-sidebar \".concat(isOpen ? \"open\" : \"\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"media-sidebar-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-media-option\",\n    onClick: onImageSelect,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, \"Add Image\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-media-option\",\n    onClick: onVideoSelect,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, \"Add Video\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-media-option\",\n    onClick: onAddBlock,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, \"Add Block\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-media-option\",\n    onClick: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }, \"Cancel\")));\n}\nvar handleAddBlock = function handleAddBlock(editorState) {\n  console.log(\"Hi\");\n  var contentState = editorState.getCurrentContent();\n  var contentStateWithEntity = contentState.createEntity(\"TEST\", \"MUTABLE\", {\n    a: \"b\"\n  });\n  var entityKey = contentStateWithEntity.getLastCreatedEntityKey();\n  var newEditorState = EditorState.set(editorState, {\n    currentContent: contentStateWithEntity\n  });\n  var temp = AtomicBlockUtils.insertAtomicBlock(newEditorState, entityKey, \"<h1>The quick brown fox jumps over the lazy dog. The sun sets in the west, painting the sky with hues of orange and pink. Birds chirp as day turns to night </h1>\");\n  console.log(temp);\n  return temp;\n};\nvar blockRenderer = function blockRenderer(contentBlock) {\n  var type = contentBlock.getType();\n  // console.log(\"contentBlock\");\n  // console.log(contentBlock);\n  // console.log(type);\n  if (type === \"atomic\") {\n    return {\n      component: blockComponent,\n      editable: true,\n      props: {\n        octData: \"custom template\"\n      }\n    };\n  }\n};\nvar blockComponent = function blockComponent(props) {\n  // const { block, contentState, blockProps } = props;\n  // const entity = block.getEntityAt(0);\n  //const data =\n  //contentState && contentState.getEntity(block.getEntityAt(0)).getData();\n  // console.log(block);\n  // console.log(props, entity, blockProps);\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    //contentEditable={false}\n    style: {\n      border: \"1px solid #003366\",\n      backgroundColor: \"#000444\",\n      width: \"100%\",\n      height: \"120px\",\n      display: \"flex\",\n      justifyContent: \"flex-start\",\n      alignItems: \"flex-start\",\n      flexDirection: \"column\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      width: \"100%\",\n      height: \"100%\",\n      overflow: \"auto\",\n      justifyContent: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      border: \"1px solid #f00\",\n      width: \"80%\",\n      display: \"flex\",\n      alignSelf: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(EditorBlock, Object.assign({}, props, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 20\n    }\n  })))));\n};\nvar SimpleMentionEditor = /*#__PURE__*/function (_Component) {\n  _inherits(SimpleMentionEditor, _Component);\n  var _super = _createSuper(SimpleMentionEditor);\n  function SimpleMentionEditor(props) {\n    var _this2;\n    _classCallCheck(this, SimpleMentionEditor);\n    _this2 = _super.call(this, props);\n    _this2.state = {\n      editorState: EditorState.createEmpty(),\n      suggestions: mentions,\n      isImagePopupOpen: false,\n      isVideoPopupOpen: false\n    };\n    _this2.onChange = function (editorState) {\n      _this2.setState({\n        editorState: editorState\n      });\n    };\n    _this2.onSearchChange = function (_ref2) {\n      var value = _ref2.value;\n      _this2.setState({\n        suggestions: defaultSuggestionsFilter(value, mentions)\n      });\n    };\n    _this2.onAddMention = function () {\n      // get the mention object selected\n    };\n    _this2.focus = function () {\n      _this2.editor.focus();\n    };\n    _this2.handleInsertImage = function (imageUrl) {\n      var editorState = _this2.state.editorState;\n      var contentState = editorState.getCurrentContent();\n      var contentStateWithEntity = contentState.createEntity(\"IMAGE\", \"IMMUTABLE\", {\n        src: imageUrl\n      });\n      var entityKey = contentStateWithEntity.getLastCreatedEntityKey();\n      var newEditorState = EditorState.set(editorState, {\n        currentContent: contentStateWithEntity\n      });\n      _this2.setState({\n        editorState: AtomicBlockUtils.insertAtomicBlock(newEditorState, entityKey, \" \"),\n        isImagePopupOpen: false\n      });\n    };\n    _this2.toggleImagePopup = function () {\n      _this2.setState(function (prevState) {\n        return {\n          isImagePopupOpen: !prevState.isImagePopupOpen\n        };\n      });\n    };\n    _this2.toggleVideoPopup = function () {\n      _this2.setState(function (prevState) {\n        return {\n          isVideoPopupOpen: !prevState.isVideoPopupOpen\n        };\n      });\n    };\n    _this2.toggleMediaSidebar = function () {\n      _this2.setState(function (prevState) {\n        return {\n          isMediaSidebarOpen: !prevState.isMediaSidebarOpen\n        };\n      });\n    };\n    _this2.renderMarkdown = function () {\n      var contentState = _this2.state.editorState.getCurrentContent();\n      var foo = convertToRaw(contentState);\n      return draftToMarkdown(foo, {\n        entityItems: {\n          \"\\\\mention\": {\n            open: function open(entity) {\n              return \"<Glossary name=\\\"\".concat(entity.data.mention.name, \"\\\" >\");\n            },\n            close: function close(entity) {\n              return \"</Glossary>\";\n            }\n          }\n        }\n      });\n    };\n    _this2.onVideoInsert = function (editorState) {\n      _this2.setState({\n        editorState: editorState,\n        isVideoPopupOpen: false\n      });\n    };\n    _this2.handleAddBlock = function () {\n      var editorState = _this2.state.editorState;\n      _this2.setState({\n        editorState: handleAddBlock(editorState)\n      });\n    };\n    _this2.toolbarPlugin = createToolbarPlugin();\n    _this2.imagePlugin = createImagePlugin({\n      decorator: decorator\n    });\n    _this2.videoPlugin = createVideoPlugin({\n      decorator: decorator\n    });\n    _this2.dragNDropFileUploadPlugin = createDragNDropUploadPlugin({\n      handleUpload: mockUpload,\n      addImage: _this2.imagePlugin.addImage\n    });\n    _this2.mentionPlugin = createMentionPlugin({\n      mentionTrigger: \"\\\\\",\n      entityMutability: \"MUTABLE\"\n    });\n    return _this2;\n  }\n  _createClass(SimpleMentionEditor, [{\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var MentionSuggestions = this.mentionPlugin.MentionSuggestions;\n      var Toolbar = this.toolbarPlugin.Toolbar;\n      var plugins = [this.mentionPlugin, this.toolbarPlugin, this.dragNDropFileUploadPlugin, blockDndPlugin, focusPlugin, alignmentPlugin, resizeablePlugin, this.imagePlugin, this.videoPlugin];\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"editor-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"toolbar\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Toolbar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }\n      }, function (externalProps) {\n        return /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"toolbar-row\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(HeadlineOneButton, Object.assign({}, externalProps, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 19\n          }\n        })), /*#__PURE__*/React.createElement(HeadlineTwoButton, Object.assign({}, externalProps, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 19\n          }\n        })), /*#__PURE__*/React.createElement(HeadlineThreeButton, Object.assign({}, externalProps, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 19\n          }\n        }))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"toolbar-row\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(BoldButton, Object.assign({}, externalProps, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 19\n          }\n        })), /*#__PURE__*/React.createElement(ItalicButton, Object.assign({}, externalProps, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 19\n          }\n        })), /*#__PURE__*/React.createElement(UnderlineButton, Object.assign({}, externalProps, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 19\n          }\n        })), /*#__PURE__*/React.createElement(CodeButton, Object.assign({}, externalProps, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 19\n          }\n        }))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"toolbar-row\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(UnorderedListButton, Object.assign({}, externalProps, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 19\n          }\n        })), /*#__PURE__*/React.createElement(OrderedListButton, Object.assign({}, externalProps, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 19\n          }\n        })), /*#__PURE__*/React.createElement(BlockquoteButton, Object.assign({}, externalProps, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 19\n          }\n        }))));\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"editor\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Editor, {\n        editorState: this.state.editorState,\n        onChange: this.onChange,\n        plugins: plugins,\n        ref: function ref(element) {\n          _this3.editor = element;\n        },\n        blockRendererFn: blockRenderer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(MentionSuggestions, {\n        onSearchChange: this.onSearchChange,\n        suggestions: this.state.suggestions,\n        onAddMention: this.onAddMention,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"add-media-icon\",\n        onClick: this.toggleMediaSidebar,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }\n      }, \"+\"), /*#__PURE__*/React.createElement(AlignmentTool, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(MediaSidebar, {\n        isOpen: this.state.isMediaSidebarOpen,\n        onClose: this.toggleMediaSidebar,\n        onImageSelect: function onImageSelect() {\n          _this3.toggleMediaSidebar();\n          _this3.setState({\n            isImagePopupOpen: true\n          });\n        },\n        onVideoSelect: function onVideoSelect() {\n          _this3.toggleMediaSidebar();\n          _this3.setState({\n            isVideoPopupOpen: true\n          });\n        },\n        onAddBlock: function onAddBlock() {\n          _this3.toggleMediaSidebar();\n          _this3.handleAddBlock();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(AddImagePopup, {\n        isOpen: this.state.isImagePopupOpen,\n        onClose: this.toggleImagePopup,\n        onInsertImage: this.handleInsertImage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(VideoAdd, {\n        isOpen: this.state.isVideoPopupOpen,\n        onClose: this.toggleVideoPopup,\n        editorState: this.state.editorState,\n        onChange: this.onVideoInsert,\n        modifier: this.videoPlugin.addVideo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n  return SimpleMentionEditor;\n}(Component);\nexport { SimpleMentionEditor as default };\nReactDOM.render( /*#__PURE__*/React.createElement(SimpleMentionEditor, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 436,\n    columnNumber: 17\n  }\n}), document.getElementById(\"root\"));","map":{"version":3,"names":["ReactDOM","React","Component","EditorState","EditorBlock","convertToRaw","convertFromRaw","AtomicBlockUtils","ContentBlock","Modifier","genKey","Editor","composeDecorators","createMentionPlugin","defaultSuggestionsFilter","createToolbarPlugin","Separator","draftToMarkdown","createImagePlugin","createAlignmentPlugin","createFocusPlugin","createResizeablePlugin","createBlockDndPlugin","createVideoPlugin","createDragNDropUploadPlugin","readFile","VideoAdd","AddImagePopup","ItalicButton","BoldButton","UnderlineButton","CodeButton","HeadlineOneButton","HeadlineTwoButton","HeadlineThreeButton","UnorderedListButton","OrderedListButton","BlockquoteButton","mentions","name","initialState","entityMap","type","mutability","data","src","blocks","key","text","depth","inlineStyleRanges","entityRanges","offset","length","focusPlugin","resizeablePlugin","blockDndPlugin","alignmentPlugin","AlignmentTool","decorator","mockUpload","success","failed","progress","doProgress","percent","Promise","all","files","map","then","retainSrc","setTimeout","MediaSidebar","_ref","isOpen","onClose","onImageSelect","onVideoSelect","onAddBlock","createElement","className","concat","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","handleAddBlock","editorState","console","log","contentState","getCurrentContent","contentStateWithEntity","createEntity","a","entityKey","getLastCreatedEntityKey","newEditorState","set","currentContent","temp","insertAtomicBlock","blockRenderer","contentBlock","getType","component","blockComponent","editable","props","octData","style","border","backgroundColor","width","height","display","justifyContent","alignItems","flexDirection","_this","overflow","alignSelf","Object","assign","SimpleMentionEditor","_Component","_inherits","_super","_createSuper","_this2","_classCallCheck","call","state","createEmpty","suggestions","isImagePopupOpen","isVideoPopupOpen","onChange","setState","onSearchChange","_ref2","value","onAddMention","focus","editor","handleInsertImage","imageUrl","toggleImagePopup","prevState","toggleVideoPopup","toggleMediaSidebar","isMediaSidebarOpen","renderMarkdown","foo","entityItems","open","entity","mention","close","onVideoInsert","toolbarPlugin","imagePlugin","videoPlugin","dragNDropFileUploadPlugin","handleUpload","addImage","mentionPlugin","mentionTrigger","entityMutability","_createClass","render","_this3","MentionSuggestions","Toolbar","plugins","externalProps","Fragment","ref","element","blockRendererFn","onInsertImage","modifier","addVideo","default","document","getElementById"],"sources":["/home/sufal/Downloads/rtf-editor/src/index.js"],"sourcesContent":["import ReactDOM from \"react-dom\";\nimport React, { Component } from \"react\";\nimport { EditorState, EditorBlock, convertToRaw, convertFromRaw, AtomicBlockUtils, ContentBlock, Modifier, genKey } from \"draft-js\";\nimport Editor, { composeDecorators } from \"draft-js-plugins-editor\";\nimport createMentionPlugin, {\n  defaultSuggestionsFilter,\n} from \"draft-js-mention-plugin\";\nimport \"./editor-styles.css\";\nimport \"draft-js-mention-plugin/lib/plugin.css\";\nimport \"draft-js-static-toolbar-plugin/lib/plugin.css\";\nimport \"draft-js-image-plugin/lib/plugin.css\";\nimport \"draft-js-alignment-plugin/lib/plugin.css\";\nimport \"draft-js-focus-plugin/lib/plugin.css\";\nimport createToolbarPlugin, { Separator } from \"draft-js-static-toolbar-plugin\";\nimport { draftToMarkdown } from \"markdown-draft-js\";\nimport createImagePlugin from \"draft-js-image-plugin\";\nimport createAlignmentPlugin from \"draft-js-alignment-plugin\";\nimport createFocusPlugin from \"draft-js-focus-plugin\";\nimport createResizeablePlugin from \"draft-js-resizeable-plugin\";\nimport createBlockDndPlugin from \"draft-js-drag-n-drop-plugin\";\nimport createVideoPlugin from \"draft-js-video-plugin\";\nimport createDragNDropUploadPlugin, { readFile } from \"@mikeljames/draft-js-drag-n-drop-upload-plugin\";\nimport VideoAdd from \"./videoAdd\";\nimport AddImagePopup from \"./imageAdd\";\n\nimport {\n  ItalicButton,\n  BoldButton,\n  UnderlineButton,\n  CodeButton,\n  HeadlineOneButton,\n  HeadlineTwoButton,\n  HeadlineThreeButton,\n  UnorderedListButton,\n  OrderedListButton,\n  BlockquoteButton,\n} from \"draft-js-buttons\";\n\nconst mentions = [\n  {\n    name: \"TEST GLOS\",\n  },\n];\n\nconst initialState = {\n  entityMap: {\n    0: {\n      type: \"IMAGE\",\n      mutability: \"IMMUTABLE\",\n      data: {\n        src: \"https://dummyimage.com/600x400/000/fff\",\n      },\n    },\n  },\n  blocks: [\n    {\n      key: \"9gm3s\",\n      text: \"Hello...\",\n      type: \"unstyled\",\n      depth: 0,\n      inlineStyleRanges: [],\n      entityRanges: [],\n      data: {},\n    },\n    {\n      key: \"ov7r\",\n      text: \" \",\n      type: \"atomic\",\n      depth: 0,\n      inlineStyleRanges: [],\n      entityRanges: [\n        {\n          offset: 0,\n          length: 1,\n          key: 0,\n        },\n      ],\n      data: {},\n    },\n    {\n      key: \"e23a8\",\n      text: \"Write here\",\n      type: \"unstyled\",\n      depth: 0,\n      inlineStyleRanges: [],\n      entityRanges: [],\n      data: {},\n    },\n  ],\n};\n\nconst focusPlugin = createFocusPlugin();\nconst resizeablePlugin = createResizeablePlugin();\nconst blockDndPlugin = createBlockDndPlugin();\nconst alignmentPlugin = createAlignmentPlugin();\nconst { AlignmentTool } = alignmentPlugin;\n\nconst decorator = composeDecorators(\n  resizeablePlugin.decorator,\n  alignmentPlugin.decorator,\n  focusPlugin.decorator,\n  blockDndPlugin.decorator\n);\n\nfunction mockUpload(data, success, failed, progress) {\n  function doProgress(percent) {\n    progress(percent || 1);\n    if (percent === 100) {\n      // Start reading the file\n      Promise.all(data.files.map(readFile)).then((files) =>\n        success(files, { retainSrc: true })\n      );\n    } else {\n      setTimeout(doProgress, 250, (percent || 0) + 10);\n    }\n  }\n\n  doProgress();\n}\n\nfunction MediaSidebar({ isOpen, onClose, onImageSelect, onVideoSelect, onAddBlock }) {\n  return (\n    <div className={`media-sidebar ${isOpen ? \"open\" : \"\"}`}>\n      <div className=\"media-sidebar-content\">\n        <div className=\"add-media-option\" onClick={onImageSelect}>\n          Add Image\n        </div>\n        <div className=\"add-media-option\" onClick={onVideoSelect}>\n          Add Video\n        </div>\n        <div className=\"add-media-option\" onClick={onAddBlock}>\n          Add Block\n        </div>\n        <div className=\"add-media-option\" onClick={onClose}>\n          Cancel\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst handleAddBlock = (editorState) => {\n  console.log(\"Hi\");\n  const contentState = editorState.getCurrentContent();\n  const contentStateWithEntity = contentState.createEntity(\"TEST\", \"MUTABLE\", {\n    a: \"b\"\n  });\n  const entityKey = contentStateWithEntity.getLastCreatedEntityKey();\n  const newEditorState = EditorState.set(editorState, {\n    currentContent: contentStateWithEntity\n  });\n  \n  var temp=  AtomicBlockUtils.insertAtomicBlock(\n    newEditorState,\n    entityKey,\n    \"<h1>The quick brown fox jumps over the lazy dog. The sun sets in the west, painting the sky with hues of orange and pink. Birds chirp as day turns to night </h1>\"\n  );\n\n  console.log(temp);\n  return temp;\n};\n\n\nconst blockRenderer = (contentBlock) => {\n  const type = contentBlock.getType();\n  // console.log(\"contentBlock\");\n  // console.log(contentBlock);\n  // console.log(type);\n  if (type === \"atomic\") {\n    return {\n      component: blockComponent,\n      editable: true,\n      props: {\n        octData: \"custom template\"\n      }\n    };\n  }\n};\n\n\nconst blockComponent = (props) => {\n  // const { block, contentState, blockProps } = props;\n  // const entity = block.getEntityAt(0);\n  //const data =\n  //contentState && contentState.getEntity(block.getEntityAt(0)).getData();\n  // console.log(block);\n  // console.log(props, entity, blockProps);\n\n\n  return (\n    <div\n      //contentEditable={false}\n      style={{\n        border: \"1px solid #003366\",\n        backgroundColor: \"#000444\",\n        width: \"100%\",\n        height: \"120px\",\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        alignItems: \"flex-start\",\n        flexDirection: \"column\"\n      }}\n    >\n\n      <div\n        style={{\n          display: \"flex\",\n          width: \"100%\",\n          height: \"100%\",\n          overflow: \"auto\",\n          justifyContent: \"center\"\n        }}\n      >\n        <div\n          style={{\n            border: \"1px solid #f00\",\n            width: \"80%\",\n            display: \"flex\",\n            alignSelf: \"center\"\n          }}\n        >\n                   <EditorBlock {...props} />\n\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default class SimpleMentionEditor extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toolbarPlugin = createToolbarPlugin();\n\n    this.imagePlugin = createImagePlugin({ decorator });\n    this.videoPlugin = createVideoPlugin({ decorator });\n\n    this.dragNDropFileUploadPlugin = createDragNDropUploadPlugin({\n      handleUpload: mockUpload,\n      addImage: this.imagePlugin.addImage,\n    });\n\n    this.mentionPlugin = createMentionPlugin({\n      mentionTrigger: \"\\\\\",\n      entityMutability: \"MUTABLE\",\n    });\n  }\n\n  state = {\n    editorState: EditorState.createEmpty(),\n    suggestions: mentions,\n    isImagePopupOpen: false,\n    isVideoPopupOpen: false,\n  };\n\n  onChange = (editorState) => {\n    this.setState({\n      editorState,\n    });\n  };\n\n  onSearchChange = ({ value }) => {\n    this.setState({\n      suggestions: defaultSuggestionsFilter(value, mentions),\n    });\n  };\n\n  onAddMention = () => {\n    // get the mention object selected\n  };\n\n  focus = () => {\n    this.editor.focus();\n  };\n\n  handleInsertImage = (imageUrl) => {\n    const { editorState } = this.state;\n    const contentState = editorState.getCurrentContent();\n    const contentStateWithEntity = contentState.createEntity(\"IMAGE\", \"IMMUTABLE\", { src: imageUrl });\n    const entityKey = contentStateWithEntity.getLastCreatedEntityKey();\n    const newEditorState = EditorState.set(editorState, { currentContent: contentStateWithEntity });\n    this.setState({\n      editorState: AtomicBlockUtils.insertAtomicBlock(newEditorState, entityKey, \" \"),\n      isImagePopupOpen: false,\n    });\n  };\n\n  toggleImagePopup = () => {\n    this.setState((prevState) => ({\n      isImagePopupOpen: !prevState.isImagePopupOpen,\n    }));\n  };\n\n  toggleVideoPopup = () => {\n    this.setState((prevState) => ({\n      isVideoPopupOpen: !prevState.isVideoPopupOpen,\n    }));\n  };\n\n  toggleMediaSidebar = () => {\n    this.setState((prevState) => ({\n      isMediaSidebarOpen: !prevState.isMediaSidebarOpen,\n    }));\n  };\n\n  renderMarkdown = () => {\n    const contentState = this.state.editorState.getCurrentContent();\n    const foo = convertToRaw(contentState);\n    return draftToMarkdown(foo, {\n      entityItems: {\n        \"\\\\mention\": {\n          open: function (entity) {\n            return `<Glossary name=\"${entity.data.mention.name}\" >`;\n          },\n\n          close: function (entity) {\n            return \"</Glossary>\";\n          },\n        },\n      },\n    });\n  };\n\n  onVideoInsert = (editorState) => {\n    this.setState({\n      editorState,\n      isVideoPopupOpen: false,\n    });\n  };\n\n  handleAddBlock = () => {\n    const { editorState } = this.state;\n\n    this.setState({\n      editorState: handleAddBlock(editorState)\n    });\n  };\n\n  render() {\n    const { MentionSuggestions } = this.mentionPlugin;\n    const { Toolbar } = this.toolbarPlugin;\n\n    const plugins = [\n      this.mentionPlugin,\n      this.toolbarPlugin,\n      this.dragNDropFileUploadPlugin,\n      blockDndPlugin,\n      focusPlugin,\n      alignmentPlugin,\n      resizeablePlugin,\n      this.imagePlugin,\n      this.videoPlugin,\n    ];\n\n    return (\n      <div className=\"editor-container\">\n        <div className=\"toolbar\">\n          <Toolbar>\n            {(externalProps) => (\n              <React.Fragment>\n                <div className=\"toolbar-row\">\n                  <HeadlineOneButton {...externalProps} />\n                  <HeadlineTwoButton {...externalProps} />\n                  <HeadlineThreeButton {...externalProps} />\n                </div>\n                <div className=\"toolbar-row\">\n                  <BoldButton {...externalProps} />\n                  <ItalicButton {...externalProps} />\n                  <UnderlineButton {...externalProps} />\n                  <CodeButton {...externalProps} />\n                </div>\n                <div className=\"toolbar-row\">\n                  <UnorderedListButton {...externalProps} />\n                  <OrderedListButton {...externalProps} />\n                  <BlockquoteButton {...externalProps} />\n                </div>\n              </React.Fragment>\n            )}\n          </Toolbar>\n        </div>\n        <div className=\"editor\">\n          <Editor\n            editorState={this.state.editorState}\n            onChange={this.onChange}\n            plugins={plugins}\n            ref={(element) => {\n              this.editor = element;\n            }}\n            blockRendererFn={blockRenderer}\n          />\n          <MentionSuggestions\n            onSearchChange={this.onSearchChange}\n            suggestions={this.state.suggestions}\n            onAddMention={this.onAddMention}\n          />\n          <div className=\"add-media-icon\" onClick={this.toggleMediaSidebar}>\n          +\n        </div>\n          <AlignmentTool />\n          <MediaSidebar\n          isOpen={this.state.isMediaSidebarOpen}\n          onClose={this.toggleMediaSidebar}\n          onImageSelect={() => {\n            this.toggleMediaSidebar();\n            this.setState({ isImagePopupOpen: true });\n          }}\n          onVideoSelect={() => {\n            this.toggleMediaSidebar();\n            this.setState({ isVideoPopupOpen: true });\n          }}\n          onAddBlock={() => {\n            this.toggleMediaSidebar();\n            this.handleAddBlock();\n          }}\n        />\n        </div>\n        <hr />\n        <AddImagePopup\n          isOpen={this.state.isImagePopupOpen}\n          onClose={this.toggleImagePopup}\n          onInsertImage={this.handleInsertImage}\n        />\n        <VideoAdd\n          isOpen={this.state.isVideoPopupOpen}\n          onClose={this.toggleVideoPopup}\n          editorState={this.state.editorState}\n          onChange={this.onVideoInsert}\n          modifier={this.videoPlugin.addVideo}\n        />\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<SimpleMentionEditor />, document.getElementById(\"root\"));\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}